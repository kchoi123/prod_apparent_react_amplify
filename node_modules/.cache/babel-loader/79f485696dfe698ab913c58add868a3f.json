{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\src\\\\components\\\\kidProfile\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { FormContainer, FormAction, FormTitle, FormLabel, FormButton, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\nimport gradeLevel from \"../../gradeLevel.json\";\n\nvar KidProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(KidProfile, _Component);\n\n  function KidProfile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, KidProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(KidProfile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      disabled: true,\n      kidInfo: [{\n        for: \"name\",\n        label: \"Please Update Child's Name\",\n        value: _this.props.name\n      }, {\n        for: \"grade\",\n        label: \"Current Grade kid is in :\",\n        value: _this.props.grade,\n        options: gradeLevel\n      }, {\n        for: \"school\",\n        label: \"Current School :\",\n        value: _this.props.school,\n        options: []\n      }],\n      kidId: _this.props.kidId\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var key = event.target.getAttribute(\"data-id\");\n\n      var copy = _toConsumableArray(_this.state.kidInfo);\n\n      copy[key].value = value;\n\n      _this.setState({\n        kidInfo: copy\n      });\n    };\n\n    _this.handleEditButtonClick = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.handleUpdateButtonClick = function (event) {\n      event.preventDefault();\n      var kidUpdatedData = {\n        name: _this.state.kidInfo[0].value,\n        gradeLevel: _this.state.kidInfo[1].value,\n        schoolId: _this.state.kidInfo[2].value\n      };\n      console.log(\"Kid Details \", kidUpdatedData, \"ID\", _this.state.kidId); //Updates the kid profile \n\n      API.updateKidForAParent(kidUpdatedData, _this.state.kidId).then(function (res) {\n        console.log(\"Kid data - upd\", res);\n        window.location.reload();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleDeleteInfo = function (event) {\n      event.preventDefault();\n      console.log(\"Delete KID INFO\");\n      API.deleteKidForAParent(_this.state.kidId).then(function (res) {\n        console.log(\"Kid deleted\");\n        window.location.reload();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(KidProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(\"Grade\", this.props.grade);\n      console.log(\"Kid ID\", this.props.kidId);\n      API.getAllSchools().then(function (res) {\n        var copy = _toConsumableArray(_this2.state.kidInfo);\n\n        copy[2].options = res.data;\n\n        _this2.setState({\n          kidInfo: copy\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(FormTitle, {\n        title: \"View Kid Info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(FormAction, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.state.kidInfo.map(function (info, i) {\n        if (info.for === \"name\") {\n          return React.createElement(FormLabel, {\n            key: i,\n            data: i,\n            for: info.for,\n            label: info.label,\n            value: info.value,\n            disabled: _this3.state.disabled,\n            handleChange: _this3.handleInputChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Dropdown, {\n            key: i,\n            data: i,\n            for: info.for,\n            label: info.label,\n            value: info.value,\n            disabled: _this3.state.disabled,\n            handleChange: _this3.handleInputChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, info.options.map(function (item, j) {\n            return React.createElement(OptionForDropdown, {\n              option: item.name,\n              value: item.id // selected value={kid.schoolId}\n              ,\n              key: j,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 129\n              },\n              __self: this\n            });\n          }));\n        }\n      }), this.state.disabled ? React.createElement(FormButton, {\n        nameButton: \"Edit Kid Info\",\n        handleButtonClick: this.handleEditButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(FormButton, {\n        nameButton: \"Update Child\",\n        className: \"btn-success\",\n        handleButtonClick: this.handleUpdateButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(FormButton, {\n        nameButton: \"Remove Child\",\n        className: \"btn-warning\",\n        handleButtonClick: this.handleDeleteInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return KidProfile;\n}(Component);\n\nexport default KidProfile;","map":{"version":3,"sources":["C:\\Users\\kevin\\Documents\\UCB_bootcamp\\Homework\\APParent\\client\\src\\components\\kidProfile\\index.js"],"names":["React","Component","FormContainer","FormAction","FormTitle","FormLabel","FormButton","Dropdown","OptionForDropdown","API","gradeLevel","KidProfile","state","disabled","kidInfo","for","label","value","props","name","grade","options","school","kidId","handleInputChange","event","target","key","getAttribute","copy","setState","handleEditButtonClick","preventDefault","handleUpdateButtonClick","kidUpdatedData","schoolId","console","log","updateKidForAParent","then","res","window","location","reload","catch","err","handleDeleteInfo","deleteKidForAParent","getAllSchools","data","map","info","i","item","j","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { FormContainer, FormAction, FormTitle, FormLabel, FormButton, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\nimport gradeLevel from \"../../gradeLevel.json\"\n\nclass KidProfile extends Component {\n    state = {\n        disabled: true,\n        kidInfo:\n            [\n                {\n                    for: \"name\",\n                    label: \"Please Update Child's Name\",\n                    value: this.props.name,\n                },\n                {\n                    for: \"grade\",\n                    label: \"Current Grade kid is in :\",\n                    value: this.props.grade,\n                    options: gradeLevel\n                },\n                {\n                    for: \"school\",\n                    label: \"Current School :\",\n                    value: this.props.school,\n                    options: []\n                }\n            ], \n            kidId: this.props.kidId\n    }\n\n    handleInputChange = event => {\n        const value = event.target.value;\n        const key = event.target.getAttribute(\"data-id\")\n        let copy = [...this.state.kidInfo]\n        copy[key].value = value\n        this.setState({\n            kidInfo: copy\n        })\n    }\n\n    handleEditButtonClick = event => {\n        event.preventDefault();\n        this.setState({\n            disabled: false\n        })\n    }\n\n    handleUpdateButtonClick = event => {\n        event.preventDefault()\n        const kidUpdatedData = {\n            name: this.state.kidInfo[0].value,\n            gradeLevel: this.state.kidInfo[1].value,\n            schoolId: this.state.kidInfo[2].value\n        }\n\n        console.log(\"Kid Details \", kidUpdatedData, \"ID\", this.state.kidId);\n\n        //Updates the kid profile \n        API.updateKidForAParent(kidUpdatedData, this.state.kidId)\n            .then(res => {\n                console.log(\"Kid data - upd\", res);\n                window.location.reload();\n            })\n            .catch(err => console.log(err));\n    }\n\n    handleDeleteInfo = event => {\n        event.preventDefault();\n        console.log(\"Delete KID INFO\");\n        API.deleteKidForAParent(this.state.kidId)\n            .then(res => {\n                console.log(\"Kid deleted\");\n                window.location.reload();\n            })\n            .catch(err => console.log(err));\n    }\n\n    componentDidMount() {\n        console.log(\"Grade\", this.props.grade); \n        console.log(\"Kid ID\", this.props.kidId); \n        API.getAllSchools()\n            .then(\n                res => {\n                    let copy = [...this.state.kidInfo]\n                    copy[2].options = res.data\n                    this.setState({\n                        kidInfo: copy\n                    })\n                }\n            )\n            .catch(err => console.log(err));\n    }\n\n    render() {\n        return (\n            <div>\n                <FormTitle\n                    title=\"View Kid Info\"\n                />\n                <FormAction>\n                    {this.state.kidInfo.map((info, i) => {\n                        if (info.for === \"name\") {\n                            return (\n                                <FormLabel\n                                    key={i}\n                                    data={i}\n                                    for={info.for}\n                                    label={info.label}\n                                    value={info.value}\n                                    disabled={this.state.disabled}\n                                    handleChange={this.handleInputChange}\n                                />\n                            )\n                        }\n                        else {\n                            return (\n                                <Dropdown\n                                    key={i}\n                                    data={i}\n                                    for={info.for}\n                                    label={info.label}\n                                    value={info.value}\n                                    disabled={this.state.disabled}\n                                    handleChange={this.handleInputChange}\n                                >\n                                    {info.options.map((item, j) => {\n                                        return (\n                                            <OptionForDropdown\n                                                option={item.name}\n                                                value={item.id}\n                                                // selected value={kid.schoolId}\n                                                key={j}\n                                            />\n                                        )\n                                    })}\n                                </Dropdown>\n                            )\n                        }\n\n                    })}\n\n                    {this.state.disabled ? (\n                        <FormButton\n                            nameButton=\"Edit Kid Info\"\n                            handleButtonClick={this.handleEditButtonClick}\n                        />\n                    ) :\n                        (\n                            <div>\n                                <FormButton\n                                    nameButton=\"Update Child\"\n                                    className=\"btn-success\"\n                                    handleButtonClick={this.handleUpdateButtonClick}\n                                />\n                                <FormButton\n                                    nameButton=\"Remove Child\"\n                                    className=\"btn-warning\"\n                                    handleButtonClick={this.handleDeleteInfo}\n                                />\n                            </div>\n                        )}\n                </FormAction>\n            </div>\n        )\n    }\n}\n\nexport default KidProfile;"]},"metadata":{},"sourceType":"module"}