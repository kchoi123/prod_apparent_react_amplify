{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\src\\\\components\\\\myProfile\\\\index.js\";\n//This component is for Edit or View my Profile \nimport React, { Component } from \"react\";\nimport { FormContainer, FormTitle, FormLabel, FormButton, FormAction, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\n\nvar MyProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyProfile, _Component);\n\n  function MyProfile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyProfile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      disabled: true,\n      userInfo: [{\n        for: \"userName\",\n        label: \"Enter your username\",\n        value: _this.props.userName\n      }, {\n        for: \"city\",\n        //db column\n        label: \"Enter your city\",\n        //message u see \n        value: _this.props.city\n      }, {\n        for: \"state\",\n        label: \"Choose a state\",\n        value: _this.props.state\n      }]\n    };\n\n    _this.handleInputChange = function (event) {\n      // const {name, value} = event.target;\n      var value = event.target.value; // const column = event.target.id;\n\n      var key = event.target.getAttribute(\"data-id\");\n\n      var copy = _toConsumableArray(_this.state.userInfo);\n\n      copy[key].value = value;\n\n      _this.setState({\n        userInfo: copy // [column] : value\n\n      });\n    };\n\n    _this.handleEditButtonClick = function (event) {\n      event.preventDefault(); // console.log(\"EDIT MY PROFILE\");\n\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.handleSaveButtonClick = function (event) {\n      event.preventDefault(); // console.log(\"SAVE MY PROFILE\");\n\n      _this.setState({\n        disabled: true\n      });\n\n      var userUpdatedData = {\n        userName: _this.state.userInfo[0].value,\n        city: _this.state.userInfo[1].value,\n        state: _this.state.userInfo[2].value\n      };\n      console.log(userUpdatedData); //Updates the user profile \n\n      API.updateProfile(userUpdatedData).then(function (res) {\n        window.location.reload();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MyProfile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(FormContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.state.disabled ? React.createElement(FormTitle, {\n        title: \"View My Profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }) : React.createElement(FormTitle, {\n        title: \"Update Profile Info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), this.state.userInfo.map(function (user, i) {\n        return React.createElement(FormLabel, {\n          key: i,\n          data: i,\n          for: user.for,\n          name: user.for,\n          label: user.label,\n          disabled: _this2.state.disabled,\n          value: user.value,\n          handleChange: _this2.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        });\n      }), this.state.disabled ? React.createElement(FormButton, {\n        nameButton: \"Edit Profile\",\n        handleButtonClick: this.handleEditButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }) : React.createElement(FormButton, {\n        nameButton: \"Save Profile\",\n        handleButtonClick: this.handleSaveButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return MyProfile;\n}(Component);\n\nexport default MyProfile;","map":{"version":3,"sources":["C:\\Users\\kevin\\Documents\\UCB_bootcamp\\Homework\\APParent\\client\\src\\components\\myProfile\\index.js"],"names":["React","Component","FormContainer","FormTitle","FormLabel","FormButton","FormAction","Dropdown","OptionForDropdown","API","MyProfile","state","disabled","userInfo","for","label","value","props","userName","city","handleInputChange","event","target","key","getAttribute","copy","setState","handleEditButtonClick","preventDefault","handleSaveButtonClick","userUpdatedData","console","log","updateProfile","then","res","window","location","reload","catch","err","map","user","i"],"mappings":"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","sourcesContent":["//This component is for Edit or View my Profile \n\nimport React, { Component } from \"react\";\nimport { FormContainer, FormTitle, FormLabel, FormButton, FormAction, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\n\nclass MyProfile extends Component {\n\n    state = {\n        disabled: true,\n        userInfo: \n            [\n                {\n                    for: \"userName\",\n                    label:\"Enter your username\",\n                    value: this.props.userName,\n                },\n                {\n                    for: \"city\", //db column\n                    label:\"Enter your city\", //message u see \n                    value: this.props.city\n                },\n                {\n                    for: \"state\",\n                    label:\"Choose a state\",\n                    value: this.props.state\n                }\n            ],\n\n    };\n\n\n    handleInputChange = event => {\n        // const {name, value} = event.target;\n        const value = event.target.value;\n        // const column = event.target.id;\n        const key = event.target.getAttribute(\"data-id\")\n        let copy = [...this.state.userInfo]\n        copy[key].value = value\n        this.setState({\n            userInfo: copy\n            // [column] : value\n        })\n\n    }\n\n    handleEditButtonClick = event => {\n        event.preventDefault();\n        // console.log(\"EDIT MY PROFILE\");\n        this.setState({\n            disabled: false\n        })\n    }\n\n    handleSaveButtonClick = event => {\n        event.preventDefault();\n        // console.log(\"SAVE MY PROFILE\");\n        this.setState({\n            disabled: true\n        })\n\n        const userUpdatedData = {\n            userName: this.state.userInfo[0].value,\n            city: this.state.userInfo[1].value,\n            state: this.state.userInfo[2].value\n        }\n\n        console.log(userUpdatedData);\n\n        //Updates the user profile \n        API.updateProfile(userUpdatedData)\n            .then(res => {\n                window.location.reload();\n            })\n            .catch(err => console.log(err)); \n    }\n\n    render() {\n        return (\n            <div>\n                <FormContainer>\n                    {/* <FormAction \n                    route={props.route} > */}\n                    { this.state.disabled ? \n                        <FormTitle\n                            title=\"View My Profile\"\n                        />\n                    :\n                        <FormTitle\n                            title=\"Update Profile Info\"\n                        />\n                    }\n\n                    {/* Rendering Form labels using the userInfo object values */}\n\n                    {this.state.userInfo.map((user , i) =>{\n\n                        return(\n                            <FormLabel\n                                key= {i}\n                                data={i}\n                                for={user.for}\n                                name={user.for}\n                                label={user.label}\n                                disabled={this.state.disabled}\n                                value={user.value}\n                                handleChange={this.handleInputChange}\n                            /> \n                        );\n                    }\n                    )}\n                    \n                    {/* Conditional hide & show the buttons */}\n                    { this.state.disabled ? \n                        <FormButton\n                            nameButton=\"Edit Profile\"\n                            handleButtonClick={this.handleEditButtonClick}\n                        /> \n                    :  \n                        <FormButton\n                            nameButton=\"Save Profile\"\n                            handleButtonClick={this.handleSaveButtonClick}\n                        /> \n                    }\n                   \n                    \n                    {/* </FormAction> */}\n                </FormContainer>\n            </div>\n        );\n    }\n}\n\nexport default MyProfile;"]},"metadata":{},"sourceType":"module"}