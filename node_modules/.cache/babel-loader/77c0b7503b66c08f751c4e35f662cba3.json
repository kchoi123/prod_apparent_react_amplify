{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Documents\\\\UCB_bootcamp\\\\Homework\\\\APParent\\\\client\\\\src\\\\components\\\\FilterBy\\\\index.js\";\nimport React, { Component } from 'react';\nimport API from \"../../utils/API\"; // import Select from 'react-select';\n// import statesList from \"../../statesList.json\"; \n\nvar statesList = [\"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California\", \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\", \"Hawaii\", \"Idaho\", \"Illinois\", \"Indiana\", \"Iowa\", \"Kansas\", \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\", \"Michigan\", \"Minnesota\", \"Mississippi\", \"Missouri\", \"Montana\", \"Nebraska\", \"Nevada\", \"New Hampshire\", \"New Jersey\", \"New Mexico\", \"New York\", \"North Carolina\", \"North Dakota\", \"Ohio\", \"Oklahoma\", \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Vermont\", \"Virginia\", \"Washington\", \"West Virginia\", \"Wisconsin\", \"Wyoming\"];\n\nvar FilterBy =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FilterBy, _Component);\n\n  function FilterBy() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FilterBy);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FilterBy)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      allStates: statesList,\n      schools: [],\n      filteredState: \"California\"\n    };\n\n    _this.handleChange = function (event) {\n      console.log(\"Option selected:\", event.target.value);\n\n      _this.setState({\n        filteredState: event.target.value\n      }); // retrieves all the schools - filter by state \n\n\n      API.getAllSchoolsByState(event.target.value).then(function (res) {\n        console.log(\"Filtered Schools : \", res.data);\n\n        _this.setState({\n          schools: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FilterBy, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(\"School State\", this.state.filteredState); // retrieves all the schools - filter by state \n\n      API.getAllSchoolsByState(this.state.filteredState).then(function (res) {\n        // this.setState({\n        //     schools:  res.data \n        // })\n        console.log(\"Filtered Schools : \", res.data);\n\n        var copy = _toConsumableArray(_this2.state.schools);\n\n        copy[2].options = res.data;\n\n        _this2.setState({\n          schools: copy\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    } //On selection of the State re-populateed the school dropdown with the updated value \n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"mb-1 text-center text-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Refine your results\"), React.createElement(\"div\", {\n        className: \"columns text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column col-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-label\",\n        htmlFor: \"states\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"States\")), React.createElement(\"div\", {\n        className: \"col-9 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-select\",\n        id: \"states\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Choose...\"), this.state.allStates.map(function (item) {\n        return React.createElement(\"option\", {\n          key: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, item);\n      }))))), React.createElement(\"div\", {\n        className: \"column col-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-label\",\n        htmlFor: \"schools\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Schools\")), React.createElement(\"div\", {\n        className: \"col-9 col-sm-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-select\",\n        id: \"schools\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Choose...\"), this.state.schools.map(function (item, j) {\n        return (// console.log(\"School name \", item.name)\n          React.createElement(\"option\", {\n            key: j,\n            value: item.name,\n            options: item.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          })\n        );\n      }))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \" Search\")))));\n    }\n  }]);\n\n  return FilterBy;\n}(Component);\n\nexport default FilterBy;","map":{"version":3,"sources":["C:\\Users\\kevin\\Documents\\UCB_bootcamp\\Homework\\APParent\\client\\src\\components\\FilterBy\\index.js"],"names":["React","Component","API","statesList","FilterBy","state","allStates","schools","filteredState","handleChange","event","console","log","target","value","setState","getAllSchoolsByState","then","res","data","catch","err","copy","options","map","item","j","name"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport API from \"../../utils/API\";\n// import Select from 'react-select';\n// import statesList from \"../../statesList.json\"; \n\nconst statesList = [\"Alabama\",\"Alaska\",\"Arizona\",\"Arkansas\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\"Florida\",\"Georgia\",\"Hawaii\",\"Idaho\",\"Illinois\",\"Indiana\",\"Iowa\",\"Kansas\",\"Kentucky\",\"Louisiana\",\"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Mississippi\",\"Missouri\",\"Montana\",\"Nebraska\",\"Nevada\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"New York\",\"North Carolina\",\"North Dakota\",\"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\"Texas\",\"Utah\",\"Vermont\",\"Virginia\",\"Washington\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"];\n\nclass FilterBy extends Component {\n  //State \n  state = {\n    allStates: statesList,  \n    schools: [], \n    filteredState: \"California\"\n  }\n\n  componentDidMount() {\n    console.log(\"School State\", this.state.filteredState); \n    \n    // retrieves all the schools - filter by state \n    API.getAllSchoolsByState(this.state.filteredState)\n    .then(\n        res => {\n            // this.setState({\n            //     schools:  res.data \n            // })\n            console.log(\"Filtered Schools : \", res.data); \n            let copy = [...this.state.schools];\n            copy[2].options = res.data;\n            this.setState({\n              schools: copy\n            })\n        }\n    )\n    .catch(err => console.log(err));\n    \n  }\n  //On selection of the State re-populateed the school dropdown with the updated value \n\n  handleChange = event => {\n    \n    console.log(`Option selected:`,  event.target.value);\n\n    this.setState({ filteredState: event.target.value});\n\n    // retrieves all the schools - filter by state \n    API.getAllSchoolsByState(event.target.value)\n    .then(\n        res => {\n           \n            console.log(\"Filtered Schools : \", res.data); \n             this.setState({\n                schools:  res.data \n            })\n        }\n    )\n    .catch(err => console.log(err));\n\n  }\n\n  render() {\n    \n    return (\n      <div className=\"container\">\n        <form noValidate>\n          <p className=\"mb-1 text-center text-info\">Refine your results</p>\n          <div className=\"columns text-center\">\n            <div className=\"column col-6 col-xs-12\">\n              <div className=\"form-group\">\n                <div className=\"col-3 col-sm-12\">\n                  <label className=\"form-label\" htmlFor=\"states\">\n                    States\n                  </label>\n                </div>\n                <div className=\"col-9 col-sm-12\">\n                  <select className=\"form-select\" id=\"states\" onChange={this.handleChange}>\n                    <option value=\"\">Choose...</option>\n                    {this.state.allStates.map((item) =>\n                      <option key={item}>{item}</option>\n                    )}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"column col-6 col-xs-12\">\n              <div className=\"form-group\">\n                <div className=\"col-3 col-sm-12\">\n                  <label className=\"form-label\" htmlFor=\"schools\">\n                    Schools\n                  </label>\n                </div>\n                <div className=\"col-9 col-sm-12\">\n                  <select className=\"form-select\" id=\"schools\">\n                    <option value=\"\">Choose...</option>\n                    {this.state.schools.map((item, j) =>\n                      // console.log(\"School name \", item.name)\n                      <option key={j} value={item.name} options={item.name} ></option>\n                    )}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div>\n              <button className=\"btn-info\"> Search</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default FilterBy;"]},"metadata":{},"sourceType":"module"}